<main>
    <h2>Filmes</h2>

    <div class="search-filters">
        <input
            type="search"
            placeholder="Pesquisar filmes..."
            [(ngModel)]="searchQuery"
        />
        <select [(ngModel)]="selectedGenre" (change)="applyFilters()">
            <option value="" disabled selected>Gênero</option>
            <option *ngFor="let genre of genres" [value]="genre.id">{{ genre.name }}</option>
        </select>
        <select [(ngModel)]="selectedYear" (change)="applyFilters()">
            <option value="" disabled selected>Ano de Lançamento</option>
            <option *ngFor="let year of years" [value]="year">{{ year }}</option>
        </select>
        <button (click)="applyFilters()">Aplicar Filtros</button>
    </div>

    <div class="movie-grid">
        <div *ngFor="let movie of filteredMovies" class="movie-card">
            <img
                [src]="'https://image.tmdb.org/t/p/w500' + movie.poster_path"
                [alt]="movie.title"
            />
            <div class="movie-info">
                <h3>{{ movie.title }}</h3>
                <p>{{ movie.overview }}</p>
            </div>
        </div>
    </div>
</main>